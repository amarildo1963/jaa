<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes - Família Anerão & Gestich</title>
    <style>
        :root {
            --dourado: #d4af37;
            --azul: blue;
            --verde: green;
            --vermelho: red;
            --cinza-chumbo: #333333;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }

        /* Campo de Busca Fixo */
        .search-container {
            position: sticky;
            top: 0;
            background: white;
            padding: 15px;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 80%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 5px;
        }

        h1 { text-align: center; color: var(--cinza-chumbo); }

        .mes-titulo {
            color: var(--vermelho);
            font-weight: bold;
            font-size: 24px;
            border-bottom: 2px solid var(--vermelho);
            margin-top: 30px;
            padding-bottom: 5px;
            text-transform: uppercase;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .foto-moldura {
            width: 120px;
            height: 150px;
            object-fit: cover;
            border: 4px solid var(--dourado);
            border-radius: 5px;
            margin-bottom: 10px;
            background-color: #eee;
        }

        .nome {
            color: var(--azul);
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .data-nasc {
            color: var(--verde);
            font-weight: bold;
            font-size: 13px;
        }

        .data-falec {
            color: var(--cinza-chumbo);
            font-size: 13px;
            display: block;
        }

        .info-extra {
            font-size: 12px;
            margin-top: 5px;
            color: #555;
        }

        .msg-niver {
            font-size: 12px;
            font-weight: bold;
            color: #e67e22;
            margin-top: 5px;
        }

        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 12px;
            color: #777;
        }

        @media (max-width: 600px) {
            .grid-container { grid-template-columns: 1fr 1fr; }
            input[type="text"] { width: 95%; }
        }
    </style>
</head>
<body>

    <div class="search-container">
        <h1>ANIVERSARIANTES</h1>
        <input type="text" id="inputBusca" placeholder="Buscar por nome ou mês..." onkeyup="filtrar()">
    </div>

    <div id="conteudo"></div>

    <footer>
        <p id="totalRegistros"></p>
        &copy;Amarildo, 2018-2026<br>
        Atualizado: 23/01/2026
    </footer>

    <script>
        const dados = [
            { nome: "INGRID GRAZIELA FERNANDES ANERÃO", nasc: "06/01/1997", falec: "", foto: "ingrid.jpg" },
            { nome: "MARIA AMARILZA ANERÃO", nasc: "14/01/1969", falec: "", foto: "amarilza.jpg" },
            { nome: "SANDRA REGINA MOLLER DE CAMPOS", nasc: "22/01/1964", falec: "20/07/2020", foto: "sandra.jpg" },
            { nome: "ROSA FRACHELLI ANERÃO", nasc: "01/02/1901", falec: "15/01/1971", foto: "rosa_frachelli.jpg" },
            { nome: "BRAZ GESTICH", nasc: "03/02/1944", falec: "08/05/2023", foto: "braz.jpg" },
            { nome: "HUMBERTO DONIZETE ANERÃO", nasc: "22/02/1961", falec: "14/07/2021", foto: "humberto.png" },
            { nome: "VALERIA APARECIDA GESTICH", nasc: "07/03/1988", falec: "", foto: "valeria.jpg" },
            { nome: "IRIA RIBEIRO ANERÃO", nasc: "23/03/1930", falec: "10/01/1979", foto: "iria.jpg" },
            { nome: "ZULMIRA BORGES GESTICH", nasc: "25/03/1907", falec: "19/09/1964", foto: "zulmira.JPG" },
            { nome: "NICOLAS MIGUEL ANERÃO FONSECA", nasc: "25/03/2014", falec: "", foto: "nicolas.jpg" },
            { nome: "JOSÉ AMARILDO ANERÃO", nasc: "30/03/1963", falec: "", foto: "amarildo.jpg" },
            { nome: "IVANIRA FERREIRA LIMA", nasc: "01/04/1973", falec: "", foto: "ivanira.jpg" },
            { nome: "MARIA DE LOURDES MALAQUIAS GESTICH", nasc: "07/04/1955", falec: "", foto: "maria_lourdes.jpg" },
            { nome: "ROSA APARECIDA ANERÃO DE JESUS", nasc: "08/04/1950", falec: "20/09/2021", foto: "rosa_aparecida.jpg" },
            { nome: "AURORA RIBEIRO", nasc: "16/04/1946", falec: "", foto: "aurora.jpg" },
            { nome: "ARLINDO FRANCISCO RIBEIRO", nasc: "16/04/1948", falec: "24/10/2001", foto: "arlindo.jpg" },
            { nome: "DIONATAS WILLIAN DE SOUZA FONSECA", nasc: "18/04/1992", falec: "", foto: "dionatas.jpg" },
            { nome: "CAROLINA GABRIELA FERNANDES ANERÃO", nasc: "04/05/1994", falec: "", foto: "carolina.jpg" },
            { nome: "JOSÉ REGINALDO GESTICH", nasc: "29/05/1980", falec: "", foto: "jose_reginaldo.jpg" },
            { nome: "KARINA KRISTINA LIMA ANERÃO", nasc: "30/05/1996", falec: "", foto: "karina.jpg" },
            { nome: "GENÉSIO DE SOUZA", nasc: "11/06/1947", falec: "08/02/2000", foto: "genesio.jpg" },
            { nome: "AMÉLIA ANERÃO DONEDA", nasc: "15/06/1926", falec: "23/02/2020", foto: "amelia.png" },
            { nome: "JOÃO PAULO GESTICH", nasc: "19/06/1984", falec: "", foto: "joao_paulo.jpg" },
            { nome: "JOÃO GESTICH", nasc: "24/06/1895", falec: "04/05/1980", foto: "joao_gestich.jpg" },
            { nome: "LEONOR OLIVEIRA DE SOUZA", nasc: "29/06/1951", falec: "21/03/2019", foto: "leonor.jpg" },
            { nome: "GUILHERME GABRIEL FERNANDES ANERÃO", nasc: "06/07/2009", falec: "", foto: "guilherme.jpg" },
            { nome: "ELIAS GESTICH", nasc: "27/07/1948", falec: "", foto: "elias.jpg" },
            { nome: "ANTONIO FERNANDES DE LIMA", nasc: "18/08/1943", falec: "28/02/2019", foto: "Antonio_lima.jpg" },
            { nome: "JOÃO ANERÃO", nasc: "24/08/1924", falec: "30/01/2007", foto: "joao_anerao.png" },
            { nome: "JOSÉ ANERÃO", nasc: "25/08/1889", falec: "11/08/1976", foto: "jose_anerao.jpg" },
            { nome: "LAURA RACHEL DIAS LINS ANERÃO", nasc: "05/09/1982", falec: "", foto: "laura.jpg" },
            { nome: "APARECIDA ORDÁLIA GARCIA DE LIMA", nasc: "07/09/1943", falec: "", foto: "aparecida.jpg" },
            { nome: "MARIA CRISTINA ANERÃO", nasc: "10/09/1941", falec: "12/03/2023", foto: "cristina.jpg" },
            { nome: "LEANDRO HENRIQUE DE LIMA NETO", nasc: "29/09/1990", falec: "", foto: "leandro.jpg" },
            { nome: "PAULO DE ASSIS ANERÃO", nasc: "18/10/1962", falec: "", foto: "paulo.jpg" },
            { nome: "ANTONIO AMAURI ANERÃO", nasc: "19/10/1965", falec: "", foto: "amauri.jpg" },
            { nome: "SONIA REGINA MOLLER", nasc: "21/10/1975", falec: "10/10/2019", foto: "sonia.jpg" },
            { nome: "ANTONIO AMAURI ANERÃO JUNIOR", nasc: "24/10/1991", falec: "", foto: "amauri_jr.jpg" },
            { nome: "SOLAMITA FERNANDES DE LIMA", nasc: "30/10/1972", falec: "", foto: "solamita.jpg" },
            { nome: "VICENTE GESTICH", nasc: "13/11/1938", falec: "27/05/2022", foto: "vicente.jpg" },
            { nome: "LUIZ FERNANDO LIMA ANERÃO", nasc: "27/11/2005", falec: "", foto: "luiz.jpg" },
            { nome: "ARVELINO ANERÃO", nasc: "29/11/1937", falec: "02/07/2007", foto: "arvelino.png" },
            { nome: "SANDRO FERNANDES DE LIMA", nasc: "29/11/1974", falec: "23/12/2016", foto: "sandro.jpg" },
            { nome: "ANTONIO GESTICH", nasc: "02/12/1951", falec: "", foto: "antonio_gestich.jpg" },
            { nome: "ROSA LIA ANERÃO MOLLER", nasc: "15/12/1943", falec: "", foto: "rosalina.jpg" },
            { nome: "RITA DE CÁSSIA RIBEIRO", nasc: "18/12/1974", falec: "", foto: "rita.jpg" },
            { nome: "REGINA APARECIDA RIBEIRO", nasc: "21/12/1971", falec: "", foto: "regina.jpg" },
            { nome: "NATAL DO MENINO JESUS", nasc: "25/12/0001", falec: "", foto: "jesus.jpg", especial: true }
        ];

        const mesesNomes = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

        function removerAcentos(str) {
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        function calcularIdade(nascStr, falecStr) {
            const [diaN, mesN, anoN] = nascStr.split('/').map(Number);
            const hoje = new Date();
            let fim = hoje;

            if (falecStr) {
                const [diaF, mesF, anoF] = falecStr.split('/').map(Number);
                fim = new Date(anoF, mesF - 1, diaF);
            }

            let idade = fim.getFullYear() - anoN;
            const m = fim.getMonth() - (mesN - 1);
            if (m < 0 || (m === 0 && fim.getDate() < diaN)) {
                idade--;
            }
            return idade;
        }

        function getSigno(dia, mes) {
            const signos = [
                { nome: "Capricórnio", d: 20, m: 1 }, { nome: "Aquário", d: 18, m: 2 },
                { nome: "Peixes", d: 20, m: 3 }, { nome: "Áries", d: 20, m: 4 },
                { nome: "Touro", d: 20, m: 5 }, { nome: "Gêmeos", d: 20, m: 6 },
                { nome: "Câncer", d: 22, m: 7 }, { nome: "Leão", d: 22, m: 8 },
                { nome: "Virgem", d: 22, m: 9 }, { nome: "Libra", d: 22, m: 10 },
                { nome: "Escorpião", d: 21, m: 11 }, { nome: "Sagitário", d: 21, m: 12 }
            ];
            const i = signos.findIndex(s => (mes === s.m && dia <= s.d) || (mes === s.m - 1));
            return i === -1 ? "Capricórnio" : signos[i].nome;
        }

        function renderizar() {
            const container = document.getElementById('conteudo');
            container.innerHTML = '';
            
            // Ordenar por mês e dia
            dados.sort((a, b) => {
                const [da, ma] = a.nasc.split('/').map(Number);
                const [db, mb] = b.nasc.split('/').map(Number);
                return ma - mb || da - db;
            });

            let mesAtual = -1;
            let grid;

            dados.forEach(p => {
                const [dia, mes, ano] = p.nasc.split('/').map(Number);
                const hoje = new Date();
                const diaH = hoje.getDate();
                const mesH = hoje.getMonth() + 1;

                if (mes !== mesAtual) {
                    mesAtual = mes;
                    const titulo = document.createElement('div');
                    titulo.className = 'mes-titulo';
                    titulo.innerText = mesesNomes[mes - 1];
                    container.appendChild(titulo);
                    grid = document.createElement('div');
                    grid.className = 'grid-container';
                    container.appendChild(grid);
                }

                const idade = calcularIdade(p.nasc, p.falec);
                const signo = getSigno(dia, mes);
                const isAniversario = (dia === diaH && mes === mesH && !p.especial);

                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('data-nome', removerAcentos(p.nome));
                card.setAttribute('data-mes', removerAcentos(mesesNomes[mes-1]));

                let html = `
                    <img src="fotos/${p.foto}" class="foto-moldura" alt="${p.nome}" onerror="this.src='https://via.placeholder.com'">
                    <span class="nome">${p.nome}</span>
                `;

                if (isAniversario) {
                    html += `<div class="msg-niver">${p.falec ? 'Faria aniversário hoje!' : 'Parabéns, Feliz Aniversário!'}</div>`;
                }

                if (!p.especial) {
                    html += `
                        <span class="data-nasc">*${p.nasc}</span>
                        ${p.falec ? `<span class="data-falec">† ${p.falec}</span>` : ''}
                        <div class="info-extra">Idade: ${idade} anos | Signo: ${signo}</div>
                    `;
                }

                card.innerHTML = html;
                grid.appendChild(card);
            });
            
            document.getElementById('totalRegistros').innerText = `Total de Registros: ${dados.length}`;
        }

        function filtrar() {
            const busca = removerAcentos(document.getElementById('inputBusca').value);
            const cards = document.querySelectorAll('.card');
            const meses = document.querySelectorAll('.mes-titulo');

            cards.forEach(card => {
                const nome = card.getAttribute('data-nome');
                const mes = card.getAttribute('data-mes');
                if (nome.includes(busca) || mes.includes(busca)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Esconde o título do mês se não houver cards visíveis nele
            meses.forEach(titulo => {
                const grid = titulo.nextElementSibling;
                const visiveis = Array.from(grid.children).filter(c => c.style.display !== 'none');
                titulo.style.display = visiveis.length > 0 ? 'block' : 'none';
                grid.style.display = visiveis.length > 0 ? 'grid' : 'none';
            });
        }

        renderizar();
    </script>
</body>
</html>
