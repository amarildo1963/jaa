<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes</title>
    <style>
        :root {
            --azul: #0000FF;
            --verde: #008000;
            --cinza: #808080;
            --vermelho: #FF0000;
            --dourado: #D4AF37;
        }

        body { font-family: sans-serif; background-color: #f4f4f4; text-align: center; padding: 20px; }
        
        .busca-container { position: sticky; top: 0; background: white; padding: 15px; z-index: 100; border-bottom: 2px solid #ddd; margin-bottom: 20px; }
        input { padding: 10px; width: 80%; max-width: 400px; border-radius: 5px; border: 1px solid #ccc; }

        .total-registros { font-weight: bold; margin: 10px 0; }
        .mes-titulo { color: var(--vermelho); font-weight: bold; font-size: 1.5em; text-transform: uppercase; margin-top: 30px; border-bottom: 2px solid var(--vermelho); display: inline-block; width: 100%; padding-bottom: 5px; }

        .lista-aniversariantes { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 20px; }
        
        .card { background: white; padding: 15px; border-radius: 10px; width: 100%; max-width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        .moldura-foto {
            width: 150px; height: 150px; border-radius: 50%;
            border: 5px solid var(--dourado); margin: 0 auto 10px;
            overflow: hidden; display: flex; align-items: center; justify-content: center;
        }
        .moldura-foto img { width: 100%; height: 100%; object-fit: cover; }

        .nome { color: var(--azul); font-weight: bold; font-size: 1.1em; display: block; margin-bottom: 5px; }
        .data-nasc { color: var(--verde); font-weight: bold; }
        .data-falec, .anos-falecimento { color: var(--cinza); font-size: 0.9em; }
        .signo { font-size: 0.9em; margin-top: 5px; font-style: italic; }
        
        .piscante {
            color: var(--vermelho); font-weight: bold;
            animation: pisca 1s infinite; display: block; margin-top: 5px;
        }

        @keyframes pisca { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
        
        mark { background-color: yellow; color: black; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <h2>ANIVERSARIANTES</h2>

    <div class="busca-container">
        <input type="text" id="inputBusca" placeholder="Buscar por nome, mês ou signo..." onkeyup="filtrar()">
        <div class="total-registros">Total de Registros: <span id="contagem">0</span></div>
    </div>

    <div id="conteudo"></div>

    <footer style="margin-top: 50px; font-size: 0.8em; color: #666;">
        ©Amarildo, 2018-2026<br>Atualizado: 27/01/2026
    </footer>

<script>
    const dadosBrutos = `INGRID GRAZIELA FERNANDES ANERÃO, *06/01/1997, ingrid.jpg
MARIA AMARILZA ANERÃO, *14/01/1969, amarilza.jpg
SANDRA REGINA MOLLER DE CAMPOS, *22/01/1964, 20/07/2020, sandra.jpg
ROSA FRACHELLI ANERÃO, *01/02/1901, 15/01/1971, rosa_frachelli.jpg
BRAZ GESTICH, *03/02/1944, 08/05/2023, braz.jpg
HUMBERTO DONIZETE ANERÃO, *22/02/1961, 14/07/2021, humberto.png
PRISCILA TOLEDO RETTI, *03/03/1990, priscila.jpg
VALERIA APARECIDA GESTICH, *07/03/1988, valeria.jpg
IRIA RIBEIRO ANERÃO, *23/03/1930, 10/01/1979, iria.jpg
ZULMIRA BORGES GESTICH, *25/03/1907, 19/09/1964, zulmira.JPG
NICOLAS MIGUEL ANERÃO FONSECA, *25/03/2014, nicolas.jpg
JOSÉ AMARILDO ANERÃO, *30/03/1963, amarildo.jpg
IVANIRA FERREIRA LIMA, *01/04/1973, ivanira.jpg
MARIA DE LOURDES MALAQUIAS GESTICH, *07/04/1955, maria_lourdes.jpg
ROSA APARECIDA ANERÃO DE JESUS, *08/04/1950, 20/09/2021, rosa_aparecida.jpg
AURORA RIBEIRO, *16/04/1946, aurora.jpg
ARLINDO FRANCISCO RIBEIRO, *16/04/1948, 24/10/2001, arlindo.jpg
DIONATAS WILLIAN DE SOUZA FONSECA, *18/04/1992, dionatas.jpg
CAROLINA GABRIELA FERNANDES ANERÃO, *04/05/1994, carolina.jpg
JOSÉ REGINALDO GESTICH, *29/05/1980, jose_reginaldo.jpg
KARINA KRISTINA LIMA ANERÃO, *30/05/1996, karina.jpg
GENÉSIO DE SOUZA, *11/06/1947, 08/02/2000, genesio.jpg
AMÉLIA ANERÃO DONEDA, *15/06/1926, 23/02/2020, amelia.png
JOÃO PAULO GESTICH, *19/06/1984, joao_paulo.jpg
JOÃO GESTICH, *24/06/1895, 04/05/1980, joao_gestich.jpg
LEONOR OLIVEIRA DE SOUZA, *29/06/1951, 21/03/2019, leonor.jpg
GUILHERME GABRIEL FERNANDES ANERÃO, *06/07/2009, guilherme.jpg
ELIAS GESTICH, *27/07/1948, elias.jpg
ANTONIO FERNANDES DE LIMA, *18/08/1943, 28/02/2019, Antonio_lima.jpg
JOÃO ANERÃO, *24/08/1924, 30/01/2007, joao_anerao.png
JOSÉ ANERÃO, *25/08/1889, 11/08/1976, jose_anerao.jpg
LAURA RACHEL DIAS LINS ANERÃO, *05/09/1982, laura.jpg
APARECIDA ORDÁLIA GARCIA DE LIMA, *07/09/1943, aparecida.jpg
MARIA CRISTINA ANERÃO, *10/09/1941, 12/03/2023, cristina.jpg
LEANDRO HENRIQUE DE LIMA NETO, *29/09/1990, leandro.jpg
PAULO DE ASSIS ANERÃO, *18/10/1962, paulo.jpg
ANTONIO AMAURI ANERÃO, *19/10/1965, amauri.jpg
SONIA REGINA MOLLER, *21/10/1975, 10/10/2019, sonia.jpg
ANTONIO AMAURI ANERÃO JUNIOR, *24/10/1991, amauri_jr.jpg
SOLAMITA FERNANDES DE LIMA, *30/10/1972, solamita.jpg
VICENTE GESTICH, *13/11/1938, 27/05/2022, vicente.jpg
LUIZ FERNANDO LIMA ANERÃO, *27/11/2005, luiz.jpg
ARVELINO ANERÃO, *29/11/1937, 02/07/2007, arvelino.png
SANDRO FERNANDES DE LIMA, *29/11/1974, 23/12/2016, sandro.jpg
ANTONIO GESTICH, *02/12/1951, antonio_gestich.jpg
ROSA LIA ANERÃO MOLLER, *15/12/1943, rosalina.jpg
RITA DE CÁSSIA RIBEIRO, *18/12/1974, rita.jpg
REGINA APARECIDA RIBEIRO, *21/12/1971, regina.jpg`;

    const mesesNome = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

    function obterSigno(dia, mes) {
        const signos = [
            { n: "Capricórnio", s: "♑", d: 20 }, { n: "Aquário", s: "♒", d: 18 }, { n: "Peixes", s: "♓", d: 20 },
            { n: "Áries", s: "♈", d: 20 }, { n: "Touro", s: "♉", d: 20 }, { n: "Gêmeos", s: "♊", d: 20 },
            { n: "Câncer", s: "♋", d: 22 }, { n: "Leão", s: "♌", d: 22 }, { n: "Virgem", s: "♍", d: 22 },
            { n: "Libra", s: "♎", d: 22 }, { n: "Escorpião", s: "♏", d: 21 }, { n: "Sagitário", s: "♐", d: 21 }
        ];
        const signo = (dia > signos[mes-1].d) ? signos[mes % 12] : signos[mes-1];
        return `${signo.s} ${signo.n}`;
    }

    function parseData(str) {
        if(!str) return null;
        const [d, m, y] = str.trim().replace('*','').split('/').map(Number);
        return { d, m, y, dataObj: new Date(y, m - 1, d) };
    }

    function renderizar() {
        const conteiner = document.getElementById('conteudo');
        const hoje = new Date();
        const hojeD = hoje.getDate();
        const hojeM = hoje.getMonth() + 1;

        let pessoas = dadosBrutos.split('\n').map(linha => {
            const partes = linha.split(',').map(p => p.trim());
            const nome = partes[0];
            const nasc = parseData(partes[1]);
            const falec = partes.length === 4 ? parseData(partes[2]) : null;
            const foto = partes[partes.length - 1];
            
            let idade = "";
            let anosFalec = "";
            if(nasc) {
                const fim = falec ? falec.dataObj : hoje;
                let anos = fim.getFullYear() - nasc.y;
                if (fim.getMonth() < nasc.m - 1 || (fim.getMonth() === nasc.m - 1 && fim.getDate() < nasc.d)) anos--;
                idade = `${anos} anos`;
                if(falec) {
                    let dif = hoje.getFullYear() - falec.y;
                    if (hoje.getMonth() < falec.m - 1 || (hoje.getMonth() === falec.m - 1 && hoje.getDate() < falec.d)) dif--;
                    anosFalec = `(há ${dif} anos)`;
                }
            }

            return { nome, nasc, falec, foto, idade, anosFalec, signo: nasc ? obterSigno(nasc.d, nasc.m) : "" };
        });

        // Agrupar por mês
        for (let m = 1; m <= 12; m++) {
            let filtrados = pessoas.filter(p => p.nasc && p.nasc.m === m)
                                   .sort((a, b) => a.nasc.d - b.nasc.d);

            if (filtrados.length > 0) {
                conteiner.innerHTML += `<div class="mes-titulo" data-mes="${mesesNome[m-1]}">${mesesNome[m-1]}</div>`;
                let listaDiv = document.createElement('div');
                listaDiv.className = 'lista-aniversariantes';
                
                filtrados.forEach(p => {
                    const isAniv = p.nasc.d === hojeD && p.nasc.m === hojeM;
                    const html = `
                        <div class="card" data-search="${p.nome.toLowerCase()} ${mesesNome[m-1].toLowerCase()} ${p.signo.toLowerCase()}">
                            <div class="moldura-foto"><img src="fotos/${p.foto}" alt="${p.nome}"></div>
                            <span class="nome">${p.nome}</span>
                            ${isAniv ? `<span class="piscante">${p.falec ? 'Faria aniversário hoje!' : 'Parabéns, Feliz Aniversário!'}</span>` : ''}
                            <div class="data-nasc">*${p.nasc.d.toString().padStart(2,'0')}/${p.nasc.m.toString().padStart(2,'0')}/${p.nasc.y} (${p.idade})</div>
                            ${p.falec ? `<div class="data-falec">† ${p.falec.d.toString().padStart(2,'0')}/${p.falec.m.toString().padStart(2,'0')}/${p.falec.y}</div>
                                         <div class="anos-falecimento">${p.anosFalec}</div>` : ''}
                            <div class="signo">${p.signo}</div>
                        </div>`;
                    listaDiv.innerHTML += html;
                });
                conteiner.appendChild(listaDiv);
            }
        }

        // Natal do Menino Jesus (Especial)
        conteiner.innerHTML += `
            <div class="mes-titulo">NATAL</div>
            <div class="lista-aniversariantes">
                <div class="card">
                    <div class="moldura-foto"><img src="fotos/jesus.jpg" alt="Jesus"></div>
                    <span class="nome">NATAL DO MENINO JESUS (25/12)</span>
                </div>
            </div>`;
            
        atualizarContagem();
    }

    function removerAcentos(str) {
        return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
    }

    function filtrar() {
        let termo = removerAcentos(document.getElementById('inputBusca').value.toLowerCase());
        let cards = document.querySelectorAll('.card');
        let total = 0;

        cards.forEach(card => {
            let texto = removerAcentos(card.innerText.toLowerCase());
            if (texto.includes(termo) || termo === "") {
                card.classList.remove('hidden');
                total++;
                if(termo !== "") grifar(card, termo);
                else limparGrifo(card);
            } else {
                card.classList.add('hidden');
            }
        });

        // Esconder meses vazios
        document.querySelectorAll('.mes-titulo').forEach(titulo => {
            let proximaLista = titulo.nextElementSibling;
            let temVisivel = proximaLista.querySelectorAll('.card:not(.hidden)').length > 0;
            titulo.style.display = temVisivel ? 'block' : 'none';
        });

        document.getElementById('contagem').innerText = total;
    }

    function grifar(elemento, termo) {
        limparGrifo(elemento);
        const innerHTML = elemento.innerHTML;
        const regex = new RegExp(`(${termo})`, 'gi');
        // Evita quebrar tags HTML e URLs de imagem ao grifar
        elemento.querySelectorAll('.nome, .data-nasc, .signo').forEach(no => {
            no.innerHTML = no.innerText.replace(regex, '<mark>$1</mark>');
        });
    }

    function limparGrifo(elemento) {
        elemento.querySelectorAll('mark').forEach(m => {
            m.outerHTML = m.innerText;
        });
    }

    function atualizarContagem() {
        document.getElementById('contagem').innerText = document.querySelectorAll('.card').length;
    }

    window.onload = renderizar;
</script>
</body>
</html>
