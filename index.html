<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes</title>
    <style>
        :root {
            --azul-negrito: #0000FF;
            --verde-negrito: #008000;
            --cinza-claro: #A9A9A9;
            --vermelho-negrito: #CC0000;
            --moldura-dourada: #D4AF37;
        }

        body { font-family: Arial, sans-serif; text-align: center; background-color: #f4f4f4; margin: 0; padding: 20px; }
        
        .busca-container { position: sticky; top: 0; background: white; padding: 15px; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
        input#busca { padding: 10px; width: 80%; max-width: 400px; border-radius: 5px; border: 1px solid #ccc; }

        .mes-bloco { margin-bottom: 30px; }
        .mes-titulo { color: var(--vermelho-negrito); font-weight: bold; font-size: 1.5em; border-bottom: 2px solid var(--vermelho-negrito); display: inline-block; padding: 0 20px; text-transform: uppercase; }

        .lista-aniversariantes { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 20px; }
        
        .card { background: white; padding: 15px; border-radius: 10px; width: 90%; max-width: 350px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

        .foto-container { width: 150px; height: 150px; margin: 0 auto 10px; border: 5px solid var(--moldura-dourada); border-radius: 50%; overflow: hidden; }
        .foto-container img { width: 100%; height: 100%; object-fit: cover; }

        .nome { color: var(--azul-negrito); font-weight: bold; font-size: 1.2em; display: block; margin-bottom: 5px; }
        .nascimento { color: var(--verde-negrito); font-weight: bold; display: block; }
        .falecimento { color: var(--cinza-claro); font-size: 0.9em; display: block; }
        .idade { font-weight: bold; color: #333; margin: 5px 0; display: block; }
        .signo { font-size: 0.9em; color: #555; font-style: italic; }

        .piscante { color: red; font-weight: bold; animation: pisca 1s infinite; display: block; margin-top: 5px; }
        @keyframes pisca { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }

        mark { background: yellow; color: black; }
        footer { margin-top: 50px; font-size: 0.8em; color: #666; }
        
        .oculto { display: none; }
    </style>
</head>
<body>

    <div class="busca-container">
        <h2>ANIVERSARIANTES</h2>
        <input type="text" id="busca" placeholder="Busque por nome, mês ou signo..." onkeyup="filtrar()">
        <p>Total de Registros: <span id="total-registros">0</span></p>
    </div>

    <div id="conteudo"></div>

    <footer>
        ©Amarildo, 2018-2026<br>
        Atualizado: 27/01/2026
    </footer>

<script>
    const hoje = new Date(2026, 0, 27); // Simula a data solicitada: 27/01/2026

    const dados = [
        "INGRID GRAZIELA FERNANDES ANERÃO, *06/01/1997, ingrid.jpg",
        "MARIA AMARILZA ANERÃO, *14/01/1969, amarilza.jpg",
        "SANDRA REGINA MOLLER DE CAMPOS, *22/01/1964, 20/07/2020, sandra.jpg",
        "ROSA FRACHELLI ANERÃO, *01/02/1901, 15/01/1971, rosa_frachelli.jpg",
        "BRAZ GESTICH, *03/02/1944, 08/05/2023, braz.jpg",
        "HUMBERTO DONIZETE ANERÃO, *22/02/1961, 14/07/2021, humberto.png",
        "PRISCILA TOLEDO RETTI, *03/03/1990, priscila.jpg",
        "VALERIA APARECIDA GESTICH, *07/03/1988, valeria.jpg",
        "IRIA RIBEIRO ANERÃO, *23/03/1930, 10/01/1979, iria.jpg",
        "ZULMIRA BORGES GESTICH, *25/03/1907, 19/09/1964, zulmira.JPG",
        "NICOLAS MIGUEL ANERÃO FONSECA, *25/03/2014, nicolas.jpg",
        "JOSÉ AMARILDO ANERÃO, *30/03/1963, amarildo.jpg",
        "IVANIRA FERREIRA LIMA, *01/04/1973, ivanira.jpg",
        "MARIA DE LOURDES MALAQUIAS GESTICH, *07/04/1955, maria_lourdes.jpg",
        "ROSA APARECIDA ANERÃO DE JESUS, *08/04/1950, 20/09/2021, rosa_aparecida.jpg",
        "AURORA RIBEIRO, *16/04/1946, aurora.jpg",
        "ARLINDO FRANCISCO RIBEIRO, *16/04/1948, 24/10/2001, arlindo.jpg",
        "DIONATAS WILLIAN DE SOUZA FONSECA, *18/04/1992, dionatas.jpg",
        "CAROLINA GABRIELA FERNANDES ANERÃO, *04/05/1994, carolina.jpg",
        "JOSÉ REGINALDO GESTICH, *29/05/1980, jose_reginaldo.jpg",
        "KARINA KRISTINA LIMA ANERÃO, *30/05/1996, karina.jpg",
        "GENÉSIO DE SOUZA, *11/06/1947, 08/02/2000, genesio.jpg",
        "AMÉLIA ANERÃO DONEDA, *15/06/1926, 23/02/2020, amelia.png",
        "JOÃO PAULO GESTICH, *19/06/1984, joao_paulo.jpg",
        "JOÃO GESTICH, *24/06/1895, 04/05/1980, joao_gestich.jpg",
        "LEONOR OLIVEIRA DE SOUZA, *29/06/1951, 21/03/2019, leonor.jpg",
        "GUILHERME GABRIEL FERNANDES ANERÃO, *06/07/2009, guilherme.jpg",
        "ELIAS GESTICH, *27/07/1948, elias.jpg",
        "ANTONIO FERNANDES DE LIMA, *18/08/1943, 28/02/2019, Antonio_lima.jpg",
        "JOÃO ANERÃO, *24/08/1924, 30/01/2007, joao_anerao.png",
        "JOSÉ ANERÃO, *25/08/1889, 11/08/1976, jose_anerao.jpg",
        "LAURA RACHEL DIAS LINS ANERÃO, *05/09/1982, laura.jpg",
        "APARECIDA ORDÁLIA GARCIA DE LIMA, *07/09/1943, aparecida.jpg",
        "MARIA CRISTINA ANERÃO, *10/09/1941, 12/03/2023, cristina.jpg",
        "LEANDRO HENRIQUE DE LIMA NETO, *29/09/1990, leandro.jpg",
        "PAULO DE ASSIS ANERÃO, *18/10/1962, paulo.jpg",
        "ANTONIO AMAURI ANERÃO, *19/10/1965, amauri.jpg",
        "SONIA REGINA MOLLER, *21/10/1975, 10/10/2019, sonia.jpg",
        "ANTONIO AMAURI ANERÃO JUNIOR, *24/10/1991, amauri_jr.jpg",
        "SOLAMITA FERNANDES DE LIMA, *30/10/1972, solamita.jpg",
        "VICENTE GESTICH, *13/11/1938, 27/05/2022, vicente.jpg",
        "LUIZ FERNANDO LIMA ANERÃO, *27/11/2005, luiz.jpg",
        "ARVELINO ANERÃO, *29/11/1937, 02/07/2007, arvelino.png",
        "SANDRO FERNANDES DE LIMA, *29/11/1974, 23/12/2016, sandro.jpg",
        "ANTONIO GESTICH, *02/12/1951, antonio_gestich.jpg",
        "ROSA LIA ANERÃO MOLLER, *15/12/1943, rosalina.jpg",
        "RITA DE CÁSSIA RIBEIRO, *18/12/1974, rita.jpg",
        "REGINA APARECIDA RIBEIRO, *21/12/1971, regina.jpg",
        "NATAL DO MENINO JESUS (25/12), 25/12/0001, jesus.jpg"
    ];

    const mesesNomes = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

    function obterSigno(dia, mes) {
        const signos = [
            { n: "Capricórnio", s: "♑", d: 20, m: 1 }, { n: "Aquário", s: "♒", d: 18, m: 2 },
            { n: "Peixes", s: "♓", d: 20, m: 3 }, { n: "Áries", s: "♈", d: 20, m: 4 },
            { n: "Touro", s: "♉", d: 20, m: 5 }, { n: "Gêmeos", s: "♊", d: 20, m: 6 },
            { n: "Câncer", s: "♋", d: 22, m: 7 }, { n: "Leão", s: "♌", d: 22, m: 8 },
            { n: "Virgem", s: "♍", d: 22, m: 9 }, { n: "Libra", s: "♎", d: 22, m: 10 },
            { n: "Escorpião", s: "♏", d: 21, m: 11 }, { n: "Sagitário", s: "♐", d: 21, m: 12 },
            { n: "Capricórnio", s: "♑", d: 31, m: 12 }
        ];
        const res = signos.find(sig => (mes < sig.m) || (mes === sig.m && dia <= sig.d));
        return res ? `${res.s} ${res.n}` : "♑ Capricórnio";
    }

    function processarDados() {
        let processados = dados.map(linha => {
            const partes = linha.split(',').map(p => p.trim());
            const nome = partes[0];
            const isNatal = nome.includes("NATAL");
            
            let nascStr = partes[1].replace('*', '');
            let [d, m, y] = nascStr.split('/').map(Number);
            let falecStr = partes.length === 4 ? partes[2] : null;
            let foto = partes[partes.length - 1];

            let idade = "";
            if (!isNatal) {
                let fim = falecStr ? new Date(falecStr.split('/').reverse().join('-')) : hoje;
                let inicio = new Date(y, m - 1, d);
                let anos = fim.getFullYear() - inicio.getFullYear();
                if (fim < new Date(fim.getFullYear(), m - 1, d)) anos--;
                idade = `${anos} anos`;
            }

            return { nome, d, m, y, nascStr, falecStr, foto, idade, isNatal, signo: obterSigno(d, m) };
        });

        // Ordenar por mês e depois por dia
        processados.sort((a, b) => a.m - b.m || a.d - b.d);
        renderizar(processados);
    }

    function renderizar(lista) {
        const container = document.getElementById('conteudo');
        container.innerHTML = "";
        let mesAtual = -1;
        let html = "";

        lista.forEach(p => {
            if (p.m !== mesAtual) {
                if (mesAtual !== -1) html += `</div></div>`;
                mesAtual = p.m;
                html += `<div class="mes-bloco" data-mes="${mesesNomes[mesAtual-1]}">
                            <div class="mes-titulo">${mesesNomes[mesAtual-1]}</div>
                            <div class="lista-aniversariantes">`;
            }

            const eAniversario = p.d === hoje.getDate() && p.m === (hoje.getMonth() + 1);
            const msgAniv = eAniversario ? (p.falecStr ? `<span class="piscante">Faria aniversário hoje!</span>` : `<span class="piscante">Parabéns, Feliz Aniversário!</span>`) : "";

            html += `
                <div class="card" data-string="${p.nome} ${mesesNomes[p.m-1]} ${p.signo}">
                    <div class="foto-container"><img src="fotos/${p.foto}" alt="${p.nome}"></div>
                    <span class="nome">${p.nome}</span>
                    ${msgAniv}
                    ${!p.isNatal ? `
                        <span class="nascimento">*<b>${p.nascStr}</b></span>
                        ${p.falecStr ? `<span class="falec">† <span style="color:var(--cinza-claro)">${p.falecStr}</span></span>` : ''}
                        <span class="idade">${p.idade}</span>
                        <span class="signo">${p.signo}</span>
                    ` : ''}
                </div>`;
        });

        container.innerHTML = html + "</div></div>";
        document.getElementById('total-registros').innerText = lista.length;
    }

    function filtrar() {
        let termo = document.getElementById('busca').value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        let cards = document.querySelectorAll('.card');
        let total = 0;

        cards.forEach(card => {
            let texto = card.getAttribute('data-string').toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            let nomeElemento = card.querySelector('.nome');
            let nomeOriginal = nomeElemento.innerText;

            if (texto.includes(termo) && termo !== "") {
                card.classList.remove('oculto');
                total++;
                // Grifar
                const regex = new RegExp(`(${termo})`, 'gi');
                nomeElemento.innerHTML = nomeOriginal.replace(regex, '<mark>$1</mark>');
            } else if (termo === "") {
                card.classList.remove('oculto');
                nomeElemento.innerHTML = nomeOriginal;
                total = dados.length;
            } else {
                card.classList.add('oculto');
                nomeElemento.innerHTML = nomeOriginal;
            }
        });

        // Esconder meses vazios
        document.querySelectorAll('.mes-bloco').forEach(bloco => {
            const visiveis = bloco.querySelectorAll('.card:not(.oculto)').length;
            bloco.style.display = visiveis > 0 ? 'block' : 'none';
        });

        document.getElementById('total-registros').innerText = total;
    }

    window.onload = processarDados;
</script>
</body>
</html>
