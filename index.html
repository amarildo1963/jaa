<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes</title>
    <style>
        :root {
            --azul: #0000FF;
            --verde: #008000;
            --dourado: #B8860B;
            --vermelho: #FF0000;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        h3 { color: var(--vermelho); text-transform: uppercase; }

        /* Busca e Contadores */
        .search-container {
            position: sticky;
            top: 10px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 80%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .stats { margin-top: 10px; font-weight: bold; }

        /* Layout de Meses */
        .mes-bloco {
            background: var(--vermelho);
            color: white;
            padding: 10px;
            margin: 20px 0;
            border-radius: 5px;
            font-size: 1.5em;
            font-weight: bold;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            padding-bottom: 40px;
        }

        /* Cartão do Integrante */
        .card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .foto-frame {
            width: 120px;
            height: 120px;
            margin: 0 auto 10px;
            border: 4px solid var(--dourado);
            border-radius: 50%;
            overflow: hidden;
        }

        .foto-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .nome { color: var(--azul); font-weight: bold; display: block; margin-bottom: 5px; }
        .nascimento { color: var(--verde); font-weight: bold; }
        .falecimento, .ha-anos { color: var(--dourado); font-weight: bold; }
        .idade-viva { color: var(--verde); font-weight: bold; }
        .idade-morta { color: var(--dourado); font-weight: bold; }
        .signo { font-style: italic; color: #555; }
        
        mark { background-color: yellow; color: black; }

        /* Seta Voltar ao Topo */
        #btnTopo {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--azul);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 24px;
            animation: piscar 1s infinite alternate;
            border: none;
            cursor: pointer;
            z-index: 1001;
        }

        @keyframes piscar {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0.5; transform: scale(1.1); }
        }

        footer { margin-top: 50px; padding: 20px; font-size: 0.9em; border-top: 1px solid #ccc; }

        @media (max-width: 600px) {
            input[type="text"] { width: 95%; }
        }
    </style>
</head>
<body>

    <h2>ANIVERSARIANTES</h2>

    <div class="search-container">
        <input type="text" id="inputBusca" placeholder="Buscar por nome, signo, data, idade (i99)..." onkeyup="filtrar()">
        <div class="stats">
            Registros: <span id="totalReg">0</span> | Filtrados: <span id="totalFilt">0</span>
        </div>
    </div>

    <div id="listaAniversariantes"></div>

    <button id="btnTopo" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">↑</button>

    <footer>
        ©2016-2026, J.A.Anerão<br>
        Atualizado: 11/02/2026
    </footer>

    <script>
        const API_FOTOS = "https://amarildo1963.github.io/jaa/fotos/";
        const dados = [
            ["INGRID GRAZIELA FERNANDES ANERÃO","06/01/1997","","ingrid.jpg"],
            ["MARIA AMARILZA ANERÃO","14/01/1969","","amarilza.jpg"],
            ["SANDRA REGINA MOLLER DE CAMPOS","22/01/1964","20/07/2020","sandra.jpg"],
            ["ROSA FRACHELLI ANERÃO","01/02/1901","15/01/1971","rosa_frachelli.jpg"],
            ["BRAZ GESTICH","03/02/1944","08/05/2023","braz.jpg"],
            ["HUMBERTO DONIZETE ANERÃO","22/02/1961","14/07/2021","humberto.png"],
            ["PRISCILA TOLEDO RETI","03/03/1990","","priscila.jpg"],
            ["VALERIA APARECIDA GESTICH","07/03/1988","","valeria.jpg"],
            ["IRIA RIBEIRO ANERÃO","23/03/1930","10/01/1979","iria.jpg"],
            ["ZULMIRA BORGES GESTICH","25/03/1907","19/09/1964","zulmira.JPG"],
            ["NICOLAS MIGUEL ANERÃO FONSECA","25/03/2014","","nicolas.jpg"],
            ["JOSÉ AMARILDO ANERÃO","30/03/1963","","amarildo.jpg"],
            ["IVANIRA FERREIRA LIMA","01/04/1973","","ivanira.jpg"],
            ["MARIA DE LOURDES MALAQUIAS GESTICH","07/04/1955","","maria_lourdes.jpg"],
            ["ROSA APARECIDA ANERÃO DE JESUS","08/04/1950","20/09/2021","rosa_aparecida.jpg"],
            ["AURORA RIBEIRO","16/04/1946","","aurora.jpg"],
            ["ARLINDO FRANCISCO RIBEIRO","16/04/1948","24/10/2001","arlindo.jpg"],
            ["DIONATAS WILLIAN DE SOUZA FONSECA","18/04/1992","","dionatas.jpg"],
            ["CAROLINA GABRIELA FERNANDES ANERÃO","04/05/1994","","carolina.jpg"],
            ["JOSÉ REGINALDO GESTICH","29/05/1980","","jose_reginaldo.jpg"],
            ["KARINA KRISTINA LIMA ANERÃO","30/05/1996","","karina.jpg"],
            ["GENÉSIO DE SOUZA","11/06/1947","08/02/2000","genesio.jpg"],
            ["AMÉLIA ANERÃO DONEDA","15/06/1926","23/02/2020","amelia.png"],
            ["JOÃO PAULO GESTICH","19/06/1984","","joao_paulo.jpg"],
            ["JOÃO GESTICH","24/06/1895","04/05/1980","joao_gestich.jpg"],
            ["LEONOR OLIVEIRA DE SOUZA","29/06/1951","21/03/2019","leonor.jpg"],
            ["GUILHERME GABRIEL FERNANDES ANERÃO","06/07/2009","","guilherme.jpg"],
            ["ELIAS GESTICH","27/07/1948","","elias.jpg"],
            ["ANTONIO FERNANDES DE LIMA","18/08/1943","28/02/2019","antonio_lima.jpg"],
            ["JOÃO ANERÃO","24/08/1924","30/01/2007","joao_anerao.png"],
            ["JOSÉ ANERÃO","25/08/1889","11/08/1976","jose_anerao.jpg"],
            ["LAURA RACHEL DIAS LINS ANERÃO","05/09/1982","","laura.jpg"],
            ["APARECIDA ORDÁLIA GARCIA DE LIMA","07/09/1943","","aparecida.jpg"],
            ["MARIA CRISTINA ANERÃO","10/09/1941","12/03/2023","cristina.jpg"],
            ["LEANDRO HENRIQUE DE LIMA NETO","29/09/1990","","leandro.jpg"],
            ["PAULO DE ASSIS ANERÃO","18/10/1962","","paulo.jpg"],
            ["ANTONIO AMAURI ANERÃO","19/10/1965","","amauri.jpg"],
            ["SONIA REGINA MOLLER","21/10/1975","10/10/2019","sonia.jpg"],
            ["ANTONIO AMAURI ANERÃO JUNIOR","24/10/1991","","amauri_jr.jpg"],
            ["SOLAMITA FERNANDES DE LIMA","30/10/1972","","solamita.jpg"],
            ["VICENTE GESTICH","13/11/1938","27/05/2022","vicente.jpg"],
            ["LUIZ FERNANDO LIMA ANERÃO","27/11/2005","","luiz.jpg"],
            ["ARVELINO ANERÃO","29/11/1937","02/07/2007","arvelino.png"],
            ["SANDRO FERNANDES DE LIMA","29/11/1974","23/12/2016","sandro.jpg"],
            ["ANTONIO GESTICH","02/12/1951","","antonio_gestich.jpg"],
            ["ROSA LIA ANERÃO MOLLER","15/12/1943","","rosalina.jpg"],
            ["RITA DE CÁSSIA RIBEIRO","18/12/1974","","rita.jpg"],
            ["REGINA APARECIDA RIBEIRO","21/12/1971","","regina.jpg"],
            ["NATAL DO MENINO JESUS (25/12)","","", "jesus.jpg"]
        ];

        const meses = ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];

        function getSigno(dia, mes) {
            const data = mes * 100 + dia;
            if (data >= 321 && data <= 420) return "♈ Áries";
            if (data >= 421 && data <= 520) return "♉ Touro";
            if (data >= 521 && data <= 620) return "♊ Gêmeos";
            if (data >= 621 && data <= 722) return "♋ Câncer";
            if (data >= 723 && data <= 822) return "♌ Leão";
            if (data >= 823 && data <= 922) return "♍ Virgem";
            if (data >= 923 && data <= 1022) return "♎ Libra";
            if (data >= 1023 && data <= 1121) return "♏ Escorpião";
            if (data >= 1122 && data <= 1221) return "♐ Sagitário";
            if (data >= 1222 || data <= 120) return "♑ Capricórnio";
            if (data >= 121 && data <= 218) return "♒ Aquário";
            return "♓ Peixes";
        }

        function calcularIdade(nasc, falec) {
            const d1 = new Date(nasc.split('/').reverse().join('-'));
            const d2 = falec ? new Date(falec.split('/').reverse().join('-')) : new Date();
            let idade = d2.getFullYear() - d1.getFullYear();
            const m = d2.getMonth() - d1.getMonth();
            if (m < 0 || (m === 0 && d2.getDate() < d1.getDate())) idade--;
            return idade;
        }

        function renderizar() {
            const container = document.getElementById('listaAniversariantes');
            container.innerHTML = "";
            let total = 0;

            meses.forEach((mesNome, index) => {
                const mesDiv = document.createElement('div');
                mesDiv.id = `mes-${index + 1}`;
                mesDiv.innerHTML = `<div class="mes-bloco">${mesNome.toUpperCase()}</div>`;
                const grid = document.createElement('div');
                grid.className = "grid-container";

                dados.forEach(pessoa => {
                    const [nome, nasc, falec, img] = pessoa;
                    if (!nasc && !nome.includes("NATAL")) return;
                    
                    const dia = nasc ? parseInt(nasc.split('/')[0]) : 25;
                    const mes = nasc ? parseInt(nasc.split('/')[1]) : 12;

                    if (mes === index + 1) {
                        total++;
                        const isNatal = nome.includes("NATAL");
                        const falecida = falec !== "";
                        const idade = nasc ? calcularIdade(nasc, falec) : "";
                        const signo = nasc ? getSigno(dia, mes) : "";
                        const anosFalec = falecida ? calcularIdade(falec, "") : 0;

                        grid.innerHTML += `
                            <div class="card" data-search="${nome} ${falecida?'falecido':'vivo'} ${signo} ${mesNome} ${nasc} ${falec} i${idade}">
                                <div class="foto-frame"><img src="${API_FOTOS}${img}" alt="${nome}"></div>
                                <span class="nome">${nome}</span>
                                ${!isNatal ? `
                                    <div class="nascimento">⭐ ${nasc}</div>
                                    ${falecida ? `<div class="falecimento">✝ ${falec}</div>` : ''}
                                    ${falecida ? `<div class="ha-anos">Há ${anosFalec} anos</div>` : ''}
                                    <div class="${falecida ? 'idade-morta' : 'idade-viva'}">${idade} anos</div>
                                    <div class="signo">${signo}</div>
                                ` : ''}
                            </div>
                        `;
                    }
                });
                
                if (grid.children.length > 0) {
                    mesDiv.appendChild(grid);
                    container.appendChild(mesDiv);
                }
            });
            document.getElementById('totalReg').innerText = total;
            filtrar();
            
            // Indexar no mês atual
            const mesAtual = new Date().getMonth() + 1;
            const el = document.getElementById(`mes-${mesAtual}`);
            if (el) el.scrollIntoView();
        }

        function filtrar() {
            const termo = document.getElementById('inputBusca').value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
            const cards = document.querySelectorAll('.card');
            let count = 0;

            cards.forEach(card => {
                const txt = card.getAttribute('data-search').toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
                const match = txt.includes(termo);
                card.style.display = match ? "block" : "none";
                if(match) {
                    count++;
                    grifar(card, termo);
                }
            });

            // Esconder blocos de meses vazios
            document.querySelectorAll('[id^="mes-"]').forEach(bloco => {
                const visiveis = bloco.querySelectorAll('.card[style="display: block;"]').length;
                bloco.style.display = visiveis > 0 ? "block" : "none";
            });

            document.getElementById('totalFilt').innerText = count;
        }

        function grifar(elemento, termo) {
            if (!termo || termo.length < 2) {
                elemento.innerHTML = elemento.innerHTML.replace(/<mark>|<\/mark>/g, "");
                return;
            }
            // Lógica simples de replace para o texto visível (evitando quebrar tags HTML)
            const walker = document.createTreeWalker(elemento, NodeFilter.SHOW_TEXT, null, false);
            let node;
            while (node = walker.nextNode()) {
                const texto = node.nodeValue;
                const regex = new RegExp(`(${termo})`, "gi");
                if (texto.match(regex)) {
                    const span = document.createElement('span');
                    span.innerHTML = texto.replace(regex, "<mark>$1</mark>");
                    node.parentNode.replaceChild(span, node);
                }
            }
        }

        window.onscroll = function() {
            document.getElementById("btnTopo").style.display = (window.scrollY > 300) ? "flex" : "none";
        };

        renderizar();
    </script>
</body>
</html>
