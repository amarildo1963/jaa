<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes</title>
    <style>
        :root {
            --azul: #0000FF;
            --verde: #008000;
            --cinza: #808080;
            --vermelho: #FF0000;
            --dourado: #D4AF37;
        }

        body { font-family: sans-serif; text-align: center; background-color: #f4f4f4; padding: 20px; }
        
        .busca-container { position: sticky; top: 0; background: white; padding: 15px; z-index: 100; border-bottom: 2px solid #ddd; margin-bottom: 20px; }
        input { padding: 10px; width: 80%; max-width: 400px; border-radius: 5px; border: 1px solid #ccc; }

        .mes-titulo { color: var(--vermelho); font-weight: bold; font-size: 1.5em; text-transform: uppercase; margin-top: 30px; border-bottom: 2px solid var(--vermelho); display: inline-block; padding: 0 20px; }

        .lista-aniversariantes { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 20px; }

        .card { background: white; padding: 15px; border-radius: 10px; width: 280px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        .moldura {
            width: 120px; height: 120px;
            border-radius: 50%;
            border: 4px solid var(--dourado);
            margin: 0 auto 10px;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }
        .moldura img { width: 100%; height: 100%; object-fit: cover; }

        .nome { color: var(--azul); font-weight: bold; font-size: 1.1em; display: block; margin-bottom: 5px; }
        .nascimento { color: var(--verde); font-weight: bold; }
        .falecimento { color: var(--cinza); font-size: 0.9em; }
        .signo-info { font-size: 0.85em; margin-top: 5px; }
        
        .piscante {
            color: var(--vermelho);
            font-weight: bold;
            animation: piscar 1s infinite;
            display: block;
            margin-top: 5px;
        }

        @keyframes piscar { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
        
        mark { background: yellow; color: black; }
        .hidden { display: none; }
        
        footer { margin-top: 50px; font-size: 0.8em; color: #666; }
    </style>
</head>
<body>

    <div class="busca-container">
        <h2>ANIVERSARIANTES</h2>
        <input type="text" id="inputBusca" placeholder="Buscar por nome, mês ou signo..." onkeyup="filtrar()">
        <p>Total de Registros: <span id="totalRegistros">0</span></p>
    </div>

    <div id="conteudo"></div>

    <footer>
        ©Amarildo, 2018-2026<br>
        Atualizado: 27/01/2026
    </footer>

<script>
    // Dados Brutos
    const dadosBrutos = `INGRID GRAZIELA FERNANDES ANERÃO, *06/01/1997, ingrid.jpg
MARIA AMARILZA ANERÃO, *14/01/1969, amarilza.jpg
SANDRA REGINA MOLLER DE CAMPOS, *22/01/1964, 20/07/2020, sandra.jpg
ROSA FRACHELLI ANERÃO, *01/02/1901, 15/01/1971, rosa_frachelli.jpg
BRAZ GESTICH, *03/02/1944, 08/05/2023, braz.jpg
HUMBERTO DONIZETE ANERÃO, *22/02/1961, 14/07/2021, humberto.png
PRISCILA TOLEDO RETI, *03/03/1990, priscila.jpg
VALERIA APARECIDA GESTICH, *07/03/1988, valeria.jpg
IRIA RIBEIRO ANERÃO, *23/03/1930, 10/01/1979, iria.jpg
ZULMIRA BORGES GESTICH, *25/03/1907, 19/09/1964, zulmira.JPG
NICOLAS MIGUEL ANERÃO FONSECA, *25/03/2014, nicolas.jpg
JOSÉ AMARILDO ANERÃO, *30/03/1963, amarildo.jpg
IVANIRA FERREIRA LIMA, *01/04/1973, ivanira.jpg
MARIA DE LOURDES MALAQUIAS GESTICH, *07/04/1955, maria_lourdes.jpg
ROSA APARECIDA ANERÃO DE JESUS, *08/04/1950, 20/09/2021, rosa_aparecida.jpg
AURORA RIBEIRO, *16/04/1946, aurora.jpg
ARLINDO FRANCISCO RIBEIRO, *16/04/1948, 24/10/2001, arlindo.jpg
DIONATAS WILLIAN DE SOUZA FONSECA, *18/04/1992, dionatas.jpg
CAROLINA GABRIELA FERNANDES ANERÃO, *04/05/1994, carolina.jpg
JOSÉ REGINALDO GESTICH, *29/05/1980, jose_reginaldo.jpg
KARINA KRISTINA LIMA ANERÃO, *30/05/1996, karina.jpg
GENÉSIO DE SOUZA, *11/06/1947, 08/02/2000, genesio.jpg
AMÉLIA ANERÃO DONEDA, *15/06/1926, 23/02/2020, amelia.png
JOÃO PAULO GESTICH, *19/06/1984, joao_paulo.jpg
JOÃO GESTICH, *24/06/1895, 04/05/1980, joao_gestich.jpg
LEONOR OLIVEIRA DE SOUZA, *29/06/1951, 21/03/2019, leonor.jpg
GUILHERME GABRIEL FERNANDES ANERÃO, *06/07/2009, guilherme.jpg
ELIAS GESTICH, *27/07/1948, elias.jpg
ANTONIO FERNANDES DE LIMA, *18/08/1943, 28/02/2019, Antonio_lima.jpg
JOÃO ANERÃO, *24/08/1924, 30/01/2007, joao_anerao.png
JOSÉ ANERÃO, *25/08/1889, 11/08/1976, jose_anerao.jpg
LAURA RACHEL DIAS LINS ANERÃO, *05/09/1982, laura.jpg
APARECIDA ORDÁLIA GARCIA DE LIMA, *07/09/1943, aparecida.jpg
MARIA CRISTINA ANERÃO, *10/09/1941, 12/03/2023, cristina.jpg
LEANDRO HENRIQUE DE LIMA NETO, *29/09/1990, leandro.jpg
PAULO DE ASSIS ANERÃO, *18/10/1962, paulo.jpg
ANTONIO AMAURI ANERÃO, *19/10/1965, amauri.jpg
SONIA REGINA MOLLER, *21/10/1975, 10/10/2019, sonia.jpg
ANTONIO AMAURI ANERÃO JUNIOR, *24/10/1991, amauri_jr.jpg
SOLAMITA FERNANDES DE LIMA, *30/10/1972, solamita.jpg
VICENTE GESTICH, *13/11/1938, 27/05/2022, vicente.jpg
LUIZ FERNANDO LIMA ANERÃO, *27/11/2005, luiz.jpg
ARVELINO ANERÃO, *29/11/1937, 02/07/2007, arvelino.png
SANDRO FERNANDES DE LIMA, *29/11/1974, 23/12/2016, sandro.jpg
ANTONIO GESTICH, *02/12/1951, antonio_gestich.jpg
ROSA LIA ANERÃO MOLLER, *15/12/1943, rosalina.jpg
RITA DE CÁSSIA RIBEIRO, *18/12/1974, rita.jpg
REGINA APARECIDA RIBEIRO, *21/12/1971, regina.jpg
NATAL DO MENINO JESUS (25/12), jesus.jpg`;

    const mesesNomes = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
    const hoje = new Date(2026, 0, 27); // Data fixada conforme instrução (27/01/2026)

    function getSigno(dia, mes) {
        const signos = [
            { n: "Capricórnio", s: "♑", d: 20 }, { n: "Aquário", s: "♒", d: 18 },
            { n: "Peixes", s: "♓", d: 20 }, { n: "Áries", s: "♈", d: 20 },
            { n: "Touro", s: "♉", d: 20 }, { n: "Gêmeos", s: "♊", d: 20 },
            { n: "Câncer", s: "♋", d: 22 }, { n: "Leão", s: "♌", d: 22 },
            { n: "Virgem", s: "♍", d: 22 }, { n: "Libra", s: "♎", d: 22 },
            { n: "Escorpião", s: "♏", d: 21 }, { n: "Sagitário", s: "♐", d: 21 },
            { n: "Capricórnio", s: "♑", d: 31 }
        ];
        return dia > signos[mes-1].d ? signos[mes] : signos[mes-1];
    }

    function processarDados() {
        const linhas = dadosBrutos.split('\n');
        let pessoas = [];

        linhas.forEach(linha => {
            const partes = linha.split(',').map(p => p.trim());
            if(partes[0].includes("NATAL")) {
                pessoas.push({ nome: partes[0], foto: partes[1], especial: "NATAL", mes: 12, dia: 25 });
                return;
            }

            const nome = partes[0];
            const nascStr = partes[1].replace('*', '');
            const foto = partes[partes.length - 1];
            const falecStr = partes.length === 4 ? partes[2] : null;

            const [dN, mN, aN] = nascStr.split('/').map(Number);
            let idade, haQuantoFalec = null;

            if (falecStr) {
                const [dF, mF, aF] = falecStr.split('/').map(Number);
                idade = aF - aN;
                if (mF < mN || (mF === mN && dF < dN)) idade--;
                haQuantoFalec = hoje.getFullYear() - aF;
                if (hoje.getMonth() + 1 < mF || (hoje.getMonth() + 1 === mF && hoje.getDate() < dF)) haQuantoFalec--;
            } else {
                idade = hoje.getFullYear() - aN;
                if (hoje.getMonth() + 1 < mN || (hoje.getMonth() + 1 === mN && hoje.getDate() < dN)) idade--;
            }

            const signo = getSigno(dN, mN);

            pessoas.push({
                nome, nascStr, falecStr, foto, idade, haQuantoFalec,
                dia: dN, mes: mN, ano: aN, signo: signo, 
                eAniversario: (dN === hoje.getDate() && mN === (hoje.getMonth()+1))
            });
        });

        // Ordenar por mês e depois por dia de nascimento
        pessoas.sort((a, b) => a.mes - b.mes || a.dia - b.dia);
        renderizar(pessoas);
    }

    function renderizar(lista) {
        const container = document.getElementById('conteudo');
        container.innerHTML = '';
        let mesAtual = -1;
        let secaoMes = null;

        lista.forEach(p => {
            if (p.mes !== mesAtual) {
                mesAtual = p.mes;
                const titulo = document.createElement('div');
                titulo.className = 'mes-titulo';
                titulo.innerText = mesesNomes[mesAtual - 1];
                container.appendChild(titulo);
                secaoMes = document.createElement('div');
                secaoMes.className = 'lista-aniversariantes';
                container.appendChild(secaoMes);
            }

            const card = document.createElement('div');
            card.className = 'card';
            card.setAttribute('data-busca', `${p.nome} ${mesesNomes[p.mes-1]} ${p.signo ? p.signo.n : ''}`.toLowerCase());

            let html = `
                <div class="moldura"><img src="fotos/${p.foto}" alt="${p.nome}"></div>
                <span class="nome">${p.nome}</span>
            `;

            if (p.especial !== "NATAL") {
                html += `<span class="nascimento">*${p.nascStr} (${p.idade} anos)</span><br>`;
                if (p.falecStr) {
                    html += `<span class="falecimento">† ${p.falecStr} (há ${p.haQuantoFalec} anos)</span><br>`;
                }
                html += `<div class="signo-info">${p.signo.s} ${p.signo.n}</div>`;
                
                if (p.eAniversario) {
                    html += p.falecStr ? `<span class="piscante">Faria aniversário hoje!</span>` : `<span class="piscante">Parabéns, Feliz Aniversário!</span>`;
                }
            }

            card.innerHTML = html;
            secaoMes.appendChild(card);
        });
        atualizarContador();
    }

    function filtrar() {
        const termo = document.getElementById('inputBusca').value.toLowerCase();
        const cards = document.querySelectorAll('.card');
        
        cards.forEach(card => {
            const texto = card.getAttribute('data-busca');
            const nomeSpan = card.querySelector('.nome');
            const nomeOriginal = nomeSpan.innerText.replace(/<mark>|<\/mark>/g, '');

            if (texto.includes(termo) || termo === "") {
                card.classList.remove('hidden');
                if (termo !== "") {
                    const regex = new RegExp(`(${termo})`, 'gi');
                    nomeSpan.innerHTML = nomeOriginal.replace(regex, '<mark>$1</mark>');
                } else {
                    nomeSpan.innerHTML = nomeOriginal;
                }
            } else {
                card.classList.add('hidden');
            }
        });

        // Esconder títulos de meses vazios
        document.querySelectorAll('.mes-titulo').forEach(titulo => {
            const proxDiv = titulo.nextElementSibling;
            const temVisivel = proxDiv.querySelector('.card:not(.hidden)');
            titulo.style.display = temVisivel ? 'inline-block' : 'none';
        });
        
        atualizarContador();
    }

    function atualizarContador() {
        const visiveis = document.querySelectorAll('.card:not(.hidden)').length;
        document.getElementById('totalRegistros').innerText = visiveis;
    }

    processarDados();
</script>
</body>
</html>
