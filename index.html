<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes - Aner√£o</title>
    <link rel="icon" type="image/png" href="https://amarildo1963.github.io/jaa/fotos/favicon.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Helvetica', Arial, sans-serif; }
        body { background-color: #f4f4f4; padding: 20px; padding-bottom: 100px; }
        
        h3 { color: blue; text-align: center; font-size: 24px; margin-bottom: 20px; }

        /* Controles */
        .controls { max-width: 800px; margin: 0 auto 20px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        input[type="text"] { padding: 10px; width: 300px; border-radius: 5px; border: 1px solid #ccc; }
        .btn-limpar { padding: 10px 20px; cursor: pointer; background: #eee; border: 1px solid #ccc; border-radius: 5px; }
        .stats { text-align: center; margin-bottom: 10px; font-weight: bold; }

        /* Meses e Blocos */
        .mes-titulo { color: red; font-weight: bold; font-size: 28px; text-align: center; margin: 40px 0 20px; text-transform: uppercase; }
        .grid-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        
        .registro-card { 
            background: #e0e0e0; border: 2px solid #bbb; border-radius: 10px; 
            padding: 15px; width: 280px; text-align: center; position: relative;
        }

        /* Imagem */
        .img-container { position: relative; width: 120px; height: 120px; margin: 0 auto 10px; }
        .img-pessoa { 
            width: 100%; height: 100%; object-fit: cover; border-radius: 50%; 
            border: 2px solid #B8860B; box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        
        /* Anima√ß√µes */
        @keyframes pulse-img { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .pulse-active { animation: pulse-img 1s linear 10; }

        @keyframes blink-red { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
        .bday-msg { color: red; font-weight: bold; animation: blink-red 0.8s infinite; margin-top: 5px; font-size: 0.9em; }

        @keyframes blink-blue { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
        .scroll-top { 
            position: fixed; bottom: 20px; right: 20px; font-size: 40px; color: blue; 
            text-decoration: none; animation: blink-blue 1s infinite; cursor: pointer; z-index: 100;
        }

        /* Tipografia */
        .nome { color: blue; font-weight: bold; font-size: 18px; margin-bottom: 8px; display: block; }
        .info-nasc { color: green; font-weight: bold; }
        .info-falec { color: #b8860b; font-weight: bold; } /* DarkGoldenRod */
        .info-idade-viva { color: green; font-weight: bold; }
        .info-idade-morta { color: #b8860b; font-weight: bold; }
        .highlight { background-color: yellow; }

        footer { text-align: center; margin-top: 50px; font-size: 14px; border-top: 1px solid #ccc; padding-top: 20px; }
    </style>
</head>
<body>

    <a href="#" class="scroll-top" id="backToTop">‚ñ≤</a>

    <h3>ANIVERSARIANTES</h3>

    <div class="controls">
        <input type="text" id="searchInput" placeholder="Buscar (nome, data, m√™s, signo, etc...)" onkeyup="filtrar()">
        <button class="btn-limpar" onclick="limparBusca()">Limpar üßπ</button>
    </div>

    <div class="stats" id="stats">Registros: 0 / Filtrados: 0</div>

    <div id="conteudo"></div>

    <footer>
        ¬©2016-2026 J.A.Aner√£o<br>
        jaanerao@hotmail.com<br>
        Atualizado: 27/02/2026
    </footer>

    <script>
        const BASE_URL = "https://amarildo1963.github.io/jaa/fotos/";
        const dadosRaw = `Ingrid Graziela Fernandes Aner√£o,06/01/1997,,ingrid.jpg
Maria Amarilza Aner√£o,14/01/1969,,amarilza.jpg
Sandra Regina Moller de Campos,22/01/1964,20/07/2020,sandra.jpg
Hor√°cio Aner√£o,24/01/1930,12/09/2004,horacio.jpg
Rosa Frachelli Aner√£o,01/02/1901,15/01/1971,rosa_frachelli.jpg
Braz Gestich,03/02/1944,08/05/2023,braz.jpg
Humberto Donizete Aner√£o,22/02/1961,14/07/2021,humberto.png
Priscila Toledo Reti,03/03/1990,,priscila.jpg
Valeria Aparecida Gestich,07/03/1988,,valeria.jpg
Iria Ribeiro Aner√£o,23/03/1930,10/01/1979,iria.jpg
Zulmira Borges Gestich,25/03/1907,19/09/1964,zulmira.JPG
Nicolas Miguel Aner√£o Fonseca,25/03/2014,,nicolas.jpg
Jos√© Amarildo Aner√£o,30/03/1963,,amarildo.jpg
Ivanira Ferreira Lima,01/04/1973,,ivanira.jpg
Maria de Lourdes Malaquias Gestich,07/04/1955,,maria_lourdes.jpg
Rosa Aparecida Aner√£o de Jesus,08/04/1950,20/09/2021,rosa_aparecida.jpg
Aurora Ribeiro,16/04/1946,,aurora.jpg
Arlindo Francisco Ribeiro,16/04/1948,24/10/2001,arlindo.jpg
Dionatas Willian de Souza Fonseca,18/04/1992,,dionatas.jpg
Carolina Gabriela Fernandes Aner√£o,04/05/1994,,carolina.jpg
Jos√© Reginaldo Gestich,29/05/1980,,jose_reginaldo.jpg
Karina Kristina Lima Aner√£o,30/05/1996,,karina.jpg
Gen√©sio de Souza,11/06/1947,08/02/2000,genesio.jpg
Am√©lia Aner√£o Doneda,15/06/1926,23/02/2020,amelia.png
Jo√£o Paulo Gestich,19/06/1984,,joao_paulo.jpg
Jo√£o Gestich,24/06/1895,04/05/1980,joao_gestich.jpg
Leonor Oliveira de Souza,29/06/1951,21/03/2019,leonor.jpg
Guilherme Gabriel Fernandes Aner√£o,06/07/2009,,guilherme.jpg
Elias Gestich,27/07/1948,,elias.jpg
Antonio Fernandes de Lima,18/08/1943,28/02/2019,antonio_lima.jpg
Jo√£o Aner√£o,24/08/1924,30/01/2007,joao_anerao.png
Jos√© Aner√£o,25/08/1889,11/08/1976,jose_anerao.jpg
Laura Rachel Dias Lins Aner√£o,05/09/1982,,laura.jpg
Aparecida Ord√°lia Garcia de Lima,07/09/1943,,aparecida.jpg
Maria Cristina Aner√£o,10/09/1941,12/03/2023,cristina.jpg
Leandro Henrique de Lima Neto,29/09/1990,,leandro.jpg
Paulo de Assis Aner√£o,18/10/1962,,paulo.jpg
Antonio Amauri Aner√£o,19/10/1965,,amauri.jpg
Sonia Regina Moller,21/10/1975,10/10/2019,sonia.jpg
Antonio Amauri Aner√£o Junior,24/10/1991,,amauri_jr.jpg
Solamita Fernandes de Lima,30/10/1972,,solamita.jpg
Vicente Gestich,13/11/1938,27/05/2022,vicente.jpg
Luiz Fernando Lima Aner√£o,27/11/2005,,luiz.jpg
Arvelino Aner√£o,29/11/1937,02/07/2007,arvelino.png
Sandro Fernandes de Lima,29/11/1974,23/12/2016,sandro.jpg
Antonio Gestich,02/12/1951,,antonio_gestich.jpg
Rosa Lia Aner√£o Moller,15/12/1943,,rosalina.jpg
Rita de C√°ssia Ribeiro,18/12/1974,,rita.jpg
Regina Aparecida Ribeiro,21/12/1971,,regina.jpg
NATAL DO MENINO JESUS (25/12),25/12,,jesus.jpg`;

        const mesesNomes = ["janeiro", "fevereiro", "mar√ßo", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];

        function getSigno(dia, mes) {
            if ((mes == 1 && dia >= 20) || (mes == 2 && dia <= 18)) return ["‚ôí", "Aqu√°rio"];
            if ((mes == 2 && dia >= 19) || (mes == 3 && dia <= 20)) return ["‚ôì", "Peixes"];
            if ((mes == 3 && dia >= 21) || (mes == 4 && dia <= 19)) return ["‚ôà", "√Åries"];
            if ((mes == 4 && dia >= 20) || (mes == 5 && dia <= 20)) return ["‚ôâ", "Touro"];
            if ((mes == 5 && dia >= 21) || (mes == 6 && dia <= 20)) return ["‚ôä", "G√™meos"];
            if ((mes == 6 && dia >= 21) || (mes == 7 && dia <= 22)) return ["‚ôã", "C√¢ncer"];
            if ((mes == 7 && dia >= 23) || (mes == 8 && dia <= 22)) return ["‚ôå", "Le√£o"];
            if ((mes == 8 && dia >= 23) || (mes == 9 && dia <= 22)) return ["‚ôç", "Virgem"];
            if ((mes == 9 && dia >= 23) || (mes == 10 && dia <= 22)) return ["‚ôé", "Libra"];
            if ((mes == 10 && dia >= 23) || (mes == 11 && dia <= 21)) return ["‚ôè", "Escorpi√£o"];
            if ((mes == 11 && dia >= 22) || (mes == 12 && dia <= 21)) return ["‚ôê", "Sagit√°rio"];
            return ["‚ôë", "Capric√≥rnio"];
        }

        function calcularIdade(nasc, falec) {
            const hoje = new Date();
            const fim = falec ? new Date(falec) : hoje;
            const inicio = new Date(nasc);
            let idade = fim.getFullYear() - inicio.getFullYear();
            const m = fim.getMonth() - inicio.getMonth();
            if (m < 0 || (m === 0 && fim.getDate() < inicio.getDate())) idade--;
            return idade;
        }

        function parsingDatas(str) {
            if (!str) return null;
            const [d, m, y] = str.split('/');
            return new Date(y || new Date().getFullYear(), m - 1, d);
        }

        // Processamento de dados
        const pessoas = dadosRaw.split('\n').map((linha, index) => {
            const [nome, nascStr, falecStr, img] = linha.split(',');
            const dNasc = parsingDatas(nascStr);
            const dFalec = parsingDatas(falecStr);
            
            let signo = ["‚ú®", "Divino"];
            if (nome.indexOf("JESUS") === -1) {
                signo = getSigno(dNasc.getDate(), dNasc.getMonth() + 1);
            }

            return {
                id: 'p' + index,
                nome,
                nascStr,
                falecStr,
                dNasc,
                dFalec,
                img,
                signo: signo[0] + " " + signo[1],
                mesNum: dNasc.getMonth(),
                diaMes: dNasc.getDate().toString().padStart(2,'0') + (dNasc.getMonth()+1).toString().padStart(2,'0')
            };
        });

        function render(filtro = "") {
            const container = document.getElementById('conteudo');
            container.innerHTML = "";
            let count = 0;
            const hoje = new Date();
            const hojeDM = hoje.getDate().toString().padStart(2,'0') + (hoje.getMonth()+1).toString().padStart(2,'0');

            const termo = filtro.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();

            mesesNomes.forEach((mes, idx) => {
                const pessoasMes = pessoas.filter(p => p.mesNum === idx);
                const filtrados = pessoasMes.filter(p => {
                    if (!termo) return true;
                    const status = p.dFalec ? "falecido" : "vivo";
                    const buscaString = `${p.nome} ${p.nascStr} ${p.falecStr} ${status} ${p.signo} ${mesesNomes[p.mesNum]}`
                        .toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
                    return buscaString.includes(termo);
                });

                if (filtrados.length > 0) {
                    const mesDiv = document.createElement('div');
                    mesDiv.innerHTML = `<div class="mes-titulo">${mes}</div>`;
                    const grid = document.createElement('div');
                    grid.className = 'grid-container';

                    filtrados.forEach(p => {
                        count++;
                        const card = document.createElement('div');
                        card.className = 'registro-card';
                        card.id = p.id;

                        const isToday = p.diaMes === hojeDM;
                        const isJesus = p.nome.includes("JESUS");
                        const idade = calcularIdade(p.dNasc, p.dFalec);
                        const anosFalec = p.dFalec ? calcularIdade(p.dFalec, null) : 0;
                        const diaSemNasc = p.dNasc.toLocaleDateString('pt-BR', {weekday: 'short'}).toLowerCase();
                        const diaSemFalec = p.dFalec ? p.dFalec.toLocaleDateString('pt-BR', {weekday: 'short'}).toLowerCase() : '';

                        let html = `
                            <div class="img-container">
                                <img src="${BASE_URL}${p.img}" class="img-pessoa ${p.id === proximoId ? 'pulse-active' : ''}" alt="${p.nome}">
                            </div>
                            <span class="nome">${destacar(p.nome, termo)}</span>
                        `;

                        if (!isJesus) {
                            html += `
                                <div class="info-nasc">‚òÖ ${destacar(p.nascStr, termo)} ${diaSemNasc}</div>
                            `;
                            if (p.dFalec) {
                                html += `
                                    <div class="info-falec">‚úù ${destacar(p.falecStr, termo)} ${diaSemFalec}</div>
                                    <div class="info-falec">h√° ${anosFalec} anos</div>
                                    <div class="info-idade-morta">viveu ${idade} anos</div>
                                `;
                            } else {
                                html += `<div class="info-idade-viva"> ${idade} anos</div>`;
                            }
                            html += `<div>${destacar(p.signo, termo)}</div>`;
                        }

                        if (isToday) {
                            html += `<div class="bday-msg">${p.dFalec ? 'Faria anivers√°rio hoje!' : 'Parab√©ns, Feliz Anivers√°rio!'}</div>`;
                        }

                        card.innerHTML = html;
                        grid.appendChild(card);
                    });
                    mesDiv.appendChild(grid);
                    container.appendChild(mesDiv);
                }
            });

            document.getElementById('stats').innerText = `Registros: ${pessoas.length} / Filtrados: ${count}`;
        }

        function destacar(texto, termo) {
            if (!termo || !texto) return texto;
            const regex = new RegExp(`(${termo})`, 'gi');
            return texto.replace(regex, '<span class="highlight">$1</span>');
        }

        // L√≥gica de busca sem barras e filtros
        document.getElementById('searchInput').addEventListener('input', function(e) {
            let val = e.target.value;
            // Auto-formatar se for s√≥ n√∫meros para data
            if (/^\d+$/.test(val)) {
                if (val.length === 4) e.target.value = val.slice(0,2) + "/" + val.slice(2,4);
                if (val.length === 8) e.target.value = val.slice(0,2) + "/" + val.slice(2,4) + "/" + val.slice(4,8);
            }
            render(e.target.value);
        });

        function limparBusca() {
            document.getElementById('searchInput').value = "";
            render();
        }

        // Identificar pr√≥ximo aniversariante para o ID de in√≠cio
        let proximoId = "";
        const findProximo = () => {
            const hoje = new Date();
            const hojeDM = (hoje.getMonth() + 1) * 100 + hoje.getDate();
            const ordenados = [...pessoas].sort((a,b) => {
                const dmA = (a.dNasc.getMonth() + 1) * 100 + a.dNasc.getDate();
                const dmB = (b.dNasc.getMonth() + 1) * 100 + b.dNasc.getDate();
                return dmA - dmB;
            });
            const prox = ordenados.find(p => ((p.dNasc.getMonth() + 1) * 100 + p.dNasc.getDate()) >= hojeDM) || ordenados[0];
            proximoId = prox.id;
            
            setTimeout(() => {
                const el = document.getElementById(proximoId);
                if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 500);
        };

        // Inicializar
        findProximo();
        render();

    </script>
</body>
</html>
