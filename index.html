<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversariantes - Memorial</title>
    <style>
        :root {
            --cor-nome: blue;
            --cor-nasc: green;
            --cor-falec: #333d42; /* Cinza chumbo */
            --cor-mes: red;
            --moldura: #ffd700; /* Dourado */
        }

        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; shadow: 0 0 10px rgba(0,0,0,0.1); }
        
        header { text-align: center; margin-bottom: 30px; }
        
        /* Campo de busca fixo */
        .search-box { 
            position: sticky; top: 10px; z-index: 100;
            background: white; padding: 15px; border: 2px solid #ddd;
            border-radius: 5px; margin-bottom: 20px; text-align: center;
        }
        input[type="text"] { width: 80%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }

        .mes-bloco { margin-bottom: 40px; }
        .mes-titulo { 
            color: var(--cor-mes); font-weight: bold; border-bottom: 2px solid var(--cor-mes);
            padding-bottom: 5px; margin-bottom: 15px; text-transform: uppercase;
        }

        .lista-pessoas { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 20px; 
        }

        .card { 
            display: flex; align-items: center; background: #fff; 
            padding: 10px; border: 1px solid #eee; border-radius: 5px;
        }

        .foto-container {
            width: 80px; height: 80px; margin-right: 15px;
            border: 4px solid var(--moldura); border-radius: 5px;
            overflow: hidden; flex-shrink: 0;
        }
        .foto-container img { width: 100%; height: 100%; object-fit: cover; }

        .info { font-size: 14px; line-height: 1.4; }
        .nome { color: var(--cor-nome); font-weight: bold; font-size: 15px; display: block; text-transform: uppercase; }
        .nasc { color: var(--cor-nasc); font-weight: bold; }
        .falec { color: var(--cor-falec); font-weight: normal; }
        .idade-signo { font-style: italic; color: #555; display: block; margin: 2px 0; }
        .hoje { background: #ffff00; font-weight: bold; color: #d00; padding: 2px; border-radius: 3px; font-size: 12px; }

        footer { margin-top: 50px; text-align: center; font-size: 12px; border-top: 1px solid #ccc; padding-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ANIVERSARIANTES</h1>
    </header>

    <div class="search-box">
        <input type="text" id="busca" placeholder="Buscar por nome ou m√™s (ex: Janeiro)..." onkeyup="filtrar()">
    </div>

    <div id="conteudo"></div>

    <footer>
        <p>Total de Registros: <span id="total-reg">0</span></p>
        <p>&copy;Amarildo, 2018-2026<br>Atualizado: 23/01/2026</p>
    </footer>
</div>

<script>
    // Configura√ß√µes e Dados
    const dataAtual = new Date(2026, 0, 23); // Data de hoje no sistema: 23/01/2026
    const mesesNomes = ["JANEIRO", "FEVEREIRO", "MAR√áO", "ABRIL", "MAIO", "JUNHO", "JULHO", "AGOSTO", "SETEMBRO", "OUTUBRO", "NOVEMBRO", "DEZEMBRO"];

    const pessoasRaw = [
        ["INGRID GRAZIELA FERNANDES ANER√ÉO", "06/01/1997", "", "ingrid.jpg"],
        ["SANDRA REGINA MULLER DE CAMPOS", "22/01/1964", "20/07/2020", "sandra.jpg"],
        ["MARIA AMARILZA ANER√ÉO", "14/01/1969", "", "amarilza.jpg"],
        ["ROSA FRACHELLI ANER√ÉO", "01/02/1901", "15/01/1971", "rosa_frachelli.jpg"],
        ["BRAZ GESTICH", "03/02/1944", "08/05/2023", "braz.jpg"],
        ["HUMBERTO DONIZETE ANER√ÉO", "22/02/1961", "14/07/2021", "humberto.png"],
        ["VALERIA APARECIDA GESTICH", "07/03/1988", "", "valeria.jpg"],
        ["IRIA RIBEIRO ANER√ÉO", "23/03/1930", "10/01/1979", "iria.jpg"],
        ["ZULMIRA BORGES GESTICH", "25/03/1907", "19/09/1964", "zulmira.JPG"],
        ["NICOLAS MIGUEL ANER√ÉO FONSECA", "25/03/2014", "", "nicolas.jpg"],
        ["JOS√â AMARILDO ANER√ÉO", "30/03/1963", "", "amarildo.jpg"],
        ["IVANIRA FERREIRA LIMA", "01/04/1973", "", "ivanira.jpg"],
        ["MARIA DE LOURDES MALAQUIAS GESTICH", "07/04/1955", "", "maria_lourdes.jpg"],
        ["ROSA APARECIDA ANER√ÉO DE JESUS", "08/04/1950", "20/09/2021", "rosa_aparecida.jpg"],
        ["AURORA RIBEIRO", "16/04/1946", "", "aurora.jpg"],
        ["ARLINDO FRANCISCO RIBEIRO", "16/04/1948", "24/10/2001", "arlindo.jpg"],
        ["DIONATAS WILLIAN DE SOUZA FONSECA", "18/04/1992", "", "dionatas.jpg"],
        ["CAROLINA GABRIELA FERNANDES ANER√ÉO", "04/05/1994", "", "carolina.jpg"],
        ["JOS√â REGINALDO GESTICH", "29/05/1980", "", "jose_reginaldo.jpg"],
        ["KARINA KRISTINA LIMA ANER√ÉO", "30/05/1996", "", "karina.jpg"],
        ["GEN√âSIO DE SOUZA", "11/06/1947", "08/02/2000", "genesio.jpg"],
        ["AM√âLIA ANER√ÉO DONEDA", "15/06/1926", "23/02/2020", "amelia.png"],
        ["JO√ÉO PAULO GESTICH", "19/06/1984", "", "joao_paulo.jpg"],
        ["JO√ÉO GESTICH", "24/06/1895", "04/05/1980", "joao_gestich.jpg"],
        ["LEONOR OLIVEIRA DE SOUZA", "29/06/1951", "21/03/2019", "leonor.jpg"],
        ["GUILHERME GABRIEL FERNANDES ANER√ÉO", "06/07/2009", "", "guilherme.jpg"],
        ["ELIAS GESTICH", "27/07/1948", "", "elias.jpg"],
        ["ANTONIO FERNANDES DE LIMA", "18/08/1943", "28/02/2019", "Antonio_lima.jpg"],
        ["JO√ÉO ANER√ÉO", "24/08/1924", "30/01/2007", "joao_anerao.png"],
        ["JOS√â ANER√ÉO", "25/08/1889", "11/08/1976", "jose_anerao.jpg"],
        ["LAURA RACHEL DIAS LINS ANER√ÉO", "05/09/1982", "", "laura.jpg"],
        ["APARECIDA ORD√ÅLIA GARCIA DE LIMA", "07/09/1943", "", "aparecida.jpg"],
        ["MARIA CRISTINA ANER√ÉO", "10/09/1941", "12/03/2023", "cristina.jpg"],
        ["LEANDRO HENRIQUE DE LIMA NETO", "29/09/1990", "", "leandro.jpg"],
        ["PAULO DE ASSIS ANER√ÉO", "18/10/1962", "", "paulo.jpg"],
        ["ANTONIO AMAURI ANER√ÉO", "19/10/1965", "", "amauri.jpg"],
        ["SONIA REGINA MOLLER", "21/10/1975", "10/10/2019", "sonia.jpg"],
        ["ANTONIO AMAURI ANER√ÉO JUNIOR", "24/10/1991", "", "amauri_jr.jpg"],
        ["SOLAMITA FERNANDES DE LIMA", "30/10/1972", "", "solamita.jpg"],
        ["VICENTE GESTICH", "13/11/1938", "27/05/2022", "vicente.jpg"],
        ["LUIZ FERNANDO LIMA ANER√ÉO", "27/11/2005", "", "luiz.jpg"],
        ["ARVELINO ANER√ÉO", "29/11/1937", "02/07/2007", "arvelino.png"],
        ["SANDRO FERNANDES DE LIMA", "29/11/1974", "23/12/2016", "sandro.jpg"],
        ["ANTONIO GESTICH", "02/12/1951", "", "antonio_gestich.jpg"],
        ["RITA DE C√ÅSSIA RIBEIRO", "18/12/1974", "", "rita.jpg"],
        ["REGINA APARECIDA RIBEIRO", "21/12/1971", "", "regina.jpg"],
        ["NATAL DO MENINO JESUS", "25/12/0000", "", "jesus.jpg"]
    ];

    function parseData(str) {
        if (!str || str.includes("dezembro")) return null; // Tratamento manual se necess√°rio
        const [d, m, y] = str.split('/').map(Number);
        const date = new Date();
        date.setFullYear(y, m - 1, d);
        return { date, d, m, y };
    }

    function getSigno(dia, mes) {
        const signos = [
            { n: "Capric√≥rnio", d: 20, m: 1 }, { n: "Aqu√°rio", d: 18, m: 2 }, { n: "Peixes", d: 20, m: 3 },
            { n: "√Åries", d: 20, m: 4 }, { n: "Touro", d: 20, m: 5 }, { n: "G√™meos", d: 20, m: 6 },
            { n: "C√¢ncer", d: 22, m: 7 }, { n: "Le√£o", d: 22, m: 8 }, { n: "Virgem", d: 22, m: 9 },
            { n: "Libra", d: 22, m: 10 }, { n: "Escorpi√£o", d: 21, m: 11 }, { n: "Sagit√°rio", d: 21, m: 12 }
        ];
        const signo = signos.find(s => (mes < s.m) || (mes === s.m && dia <= s.d));
        return signo ? signo.n : "Capric√≥rnio";
    }

    function calcularIdade(nasc, falec) {
        if (nasc.y === 0) return "";
        const dataFim = falec ? falec.date : dataAtual;
        let idade = dataFim.getFullYear() - nasc.y;
        const m = dataFim.getMonth() - (nasc.m - 1);
        if (m < 0 || (m === 0 && dataFim.getDate() < nasc.d)) idade--;
        return idade + " anos";
    }

    function renderizar() {
        const grid = document.getElementById('conteudo');
        grid.innerHTML = "";
        
        // Organizar por m√™s e ordenar por data
        let mesesMap = {};
        pessoasRaw.forEach(p => {
            const nasc = parseData(p[1]);
            const mesIdx = nasc ? nasc.m - 1 : 11; // Natal vai pra dezembro
            if (!mesesMap[mesIdx]) mesesMap[mesIdx] = [];
            mesesMap[mesIdx].push({dados: p, nasc});
        });

        let total = 0;

        for (let i = 0; i < 12; i++) {
            if (!mesesMap[i]) continue;
            
            // Ordenar por dia de nascimento
            mesesMap[i].sort((a, b) => a.nasc.d - b.nasc.d);

            let htmlMes = `<div class="mes-bloco" data-mesname="${mesesNomes[i]}">
                <h2 class="mes-titulo">${mesesNomes[i]}</h2>
                <div class="lista-pessoas">`;

            mesesMap[i].forEach(item => {
                total++;
                const p = item.dados;
                const nasc = item.nasc;
                const falec = p[2] ? parseData(p[2]) : null;
                const idadeStr = calcularIdade(nasc, falec);
                const signo = getSigno(nasc.d, nasc.m);
                const eAniversario = (nasc.d === dataAtual.getDate() && nasc.m === (dataAtual.getMonth() + 1));

                htmlMes += `
                    <div class="card" data-nome="${p[0].normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase()}">
                        <div class="foto-container">
                            <img src="fotos/${p[3]}" alt="${p[0]}" onerror="this.src='https://via.placeholder.com'">
                        </div>
                        <div class="info">
                            <span class="nome">${p[0]}</span>
                            ${eAniversario ? `<div class="hoje">üéÇ ANIVERS√ÅRIO HOJE!</div>` : ''}
                            <span class="idade-signo">${idadeStr} | ${signo}</span>
                            <span class="nasc">*${p[1]}</span>
                            ${p[2] ? `<br><span class="falec">‚Ä† ${p[2]}</span>` : ''}
                        </div>
                    </div>`;
            });

            htmlMes += `</div></div>`;
            grid.innerHTML += htmlMes;
        }
        document.getElementById('total-reg').innerText = total;
    }

    function filtrar() {
        const termo = document.getElementById('busca').value.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        const cards = document.querySelectorAll('.card');
        const blocos = document.querySelectorAll('.mes-bloco');

        blocos.forEach(bloco => {
            let temNoMes = false;
            const mesNome = bloco.getAttribute('data-mesname').toLowerCase();
            const cardsNoMes = bloco.querySelectorAll('.card');

            cardsNoMes.forEach(card => {
                const nome = card.getAttribute('data-nome');
                if (nome.includes(termo) || mesNome.includes(termo)) {
                    card.style.display = "flex";
                    temNoMes = true;
                } else {
                    card.style.display = "none";
                }
            });

            bloco.style.display = temNoMes ? "block" : "none";
        });
    }

    renderizar();
</script>

</body>
</html>
